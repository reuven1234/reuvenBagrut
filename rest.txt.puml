@startuml
class com.example.reuvenbagrut.ProfileFragment {
- ViewPager2 viewPager
- TabLayout tabLayout
- TextView recipesCountText
- TextView followersCountText
- TextView followingCountText
- TextView bioText
- TextView editProfileButton
- FirebaseFirestore db
- FirebaseUser currentUser
+ void onCreate(Bundle)
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
- void initializeViews(View)
- void setupViewPager()
- void loadUserData()
+ void onResume()
}


class com.example.reuvenbagrut.AddRecipeFragment {
- {static} String TAG
- {static} int PICK_IMAGE_REQUEST
- {static} int MAX_IMAGE_DIMENSION
- {static} int JPEG_QUALITY
- boolean isImageChanged
- Uri selectedImageUri
- Bitmap selectedImageBitmap
- View rootView
- EditText recipeNameInput
- EditText ingredientsInput
- EditText instructionsInput
- Button submitButton
- Button addPhotoButton
- ImageView recipeImage
- ProgressBar progressBar
- FirebaseFirestore db
- FirebaseUser currentUser
- StorageReference storageRef
+ void onCreate(Bundle)
- void initializeFirebase()
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
+ void onViewCreated(View,Bundle)
- void initializeViews(View)
- void checkAuthenticationState()
- void setupClickListeners()
- void selectImageFromGallery()
+ void onActivityResult(int,int,Intent)
- void processSelectedImage(Uri)
- boolean isImageFileTooLarge(Uri)
- Bitmap compressImage(Bitmap)
- void validateAndSubmitRecipe()
- void uploadImageAndSaveRecipe(Recipe)
- void saveRecipe(Recipe)
- void handleError(Exception,int)
- void showLoading(boolean)
- void navigateBack()
- void navigateToLogin()
+ void onDestroyView()
}


interface com.example.reuvenbagrut.RecipeApiService {
~ Call<RecipeApiResponse> searchRecipe(String)
}

class com.example.reuvenbagrut.UploadedRecipesFragment {
- RecyclerView recyclerView
- RecipeAdapter adapter
- List<Recipe> recipeList
- FirebaseFirestore db
- FirebaseUser currentUser
- SwipeRefreshLayout swipeRefreshLayout
- ShimmerFrameLayout shimmerLayout
- TextView emptyStateText
+ void onCreate(Bundle)
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
- void loadUploadedRecipes()
- void updateRecipeList(List<Recipe>)
- void showError(String)
+ void onDestroyView()
}


class com.example.reuvenbagrut.Login {
- TextView goBack
- MaterialButton loginButton
- TextInputEditText editTextPassword
- TextInputLayout passwordLayout
- FirebaseAuth mAuth
- ProgressBar progressBar
# void onCreate(Bundle)
- void initializeViews()
- void setupClickableSpan()
- void setupClickListeners()
- void performLogin()
- boolean validateInputs(String,String)
- void showLoading(boolean)
- void navigateToHome()
# void onStart()
}


class com.example.reuvenbagrut.SignUp {
- MaterialButton signUpButton
- TextInputEditText editTextName
- TextInputLayout nameLayout
- TextView goBack
- ProgressBar progressBar
- FirebaseAuth mAuth
# void onCreate(Bundle)
- void initializeViews()
- void setupClickableSpan()
- void setupClickListeners()
- void performSignUp()
- boolean validateInputs(String,String,String)
- void showLoading(boolean)
- void navigateToHome()
# void onStart()
}


class com.example.reuvenbagrut.HomeFragment {
- {static} String TAG
- RecyclerView recyclerView
- RecipeAdapter recipeAdapter
- SearchView searchView
- FirebaseFirestore db
- FirebaseAuth mAuth
- FirebaseUser currentUser
- SwipeRefreshLayout swipeRefreshLayout
- ChipGroup categoryChipGroup
- ShimmerFrameLayout shimmerLayout
- TextView emptyStateText
- ProgressBar progressBar
- boolean isSearching
- String selectedCategory
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
- void initViews(View)
- void setupRecyclerView()
- void setupSearchView()
- void setupSwipeRefresh()
- void setupCategoryChips()
- void loadRecipes()
- void searchRecipes(String)
- void updateEmptyState(boolean)
- void showLoading(boolean)
- int getCategoryChipId(String)
+ void onSaveInstanceState(Bundle)
+ void onDestroyView()
+ void onResume()
}


class com.example.reuvenbagrut.LikedRecipesFragment {
- RecyclerView recyclerView
- RecipeAdapter adapter
- SwipeRefreshLayout swipeRefreshLayout
- ShimmerFrameLayout shimmerLayout
- TextView emptyStateText
- FirebaseFirestore db
- FirebaseAuth mAuth
- FirebaseUser currentUser
- ProgressBar progressBar
+ void onCreate(Bundle)
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
- void initializeViews(View)
- void setupRecyclerView()
- void setupSwipeRefresh()
- void loadLikedRecipes()
- void updateRecipeList(List<Recipe>)
- void updateEmptyState(boolean)
- void showLoading(boolean)
- void showError(String)
+ void onDestroyView()
}


class com.example.reuvenbagrut.UserRepository {
- FirebaseAuth auth
- FirebaseFirestore firestore
+ void addUser(User,FirebaseCallback<User>)
+ void getUser(User,FirebaseCallback<User>)
+ void updateUser(String,String,String,Uri,FirebaseCallback<Void>)
+ void deleteUser(FirebaseCallback<Void>)
}


class com.example.reuvenbagrut.MainActivity {
- MaterialButton signUpButton
- MaterialButton loginButton
- FirebaseAuth mAuth
- boolean keepSplashScreen
- NavController navController
# void onCreate(Bundle)
- void showLoginScreen()
- void showNavigation()
- void initializeViews()
- void setupClickListeners()
- void setupNavigation()
# void onStart()
}


class com.example.reuvenbagrut.SettingsFragment {
- MaterialButton logoutButton
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
}


class com.example.reuvenbagrut.ChatFragment {
- {static} String TAG
- RecyclerView recyclerView
- ChatListAdapter adapter
- List<ChatMessage> messages
- String currentUserId
- FirebaseFirestore db
- FirebaseUser currentUser
+ View onCreateView(LayoutInflater,ViewGroup,Bundle)
- void loadChats()
+ void onChatClick(ChatMessage)
}


interface com.example.reuvenbagrut.FirebaseCallback {
~ void onSuccess(T)
~ void onError(String)
}



androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.ProfileFragment
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.AddRecipeFragment
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.UploadedRecipesFragment
androidx.appcompat.app.AppCompatActivity <|-- com.example.reuvenbagrut.Login
androidx.appcompat.app.AppCompatActivity <|-- com.example.reuvenbagrut.SignUp
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.HomeFragment
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.LikedRecipesFragment
androidx.appcompat.app.AppCompatActivity <|-- com.example.reuvenbagrut.MainActivity
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.SettingsFragment
com.example.reuvenbagrut.OnChatClickListener <|.. com.example.reuvenbagrut.ChatFragment
androidx.fragment.app.Fragment <|-- com.example.reuvenbagrut.ChatFragment
@enduml